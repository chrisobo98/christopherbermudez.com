/* Set global styles */
body {
  background-color: #ffffff; /* Default light mode background color */
  color: #1d1d1d; /* Default light mode text color */
  font-family: "Space Grotesk", sans-serif, Helvetica, sans-serif;
  margin: 0;
  padding: 0;
  font-display: swap; /* Ensure font-display swap */
}

.nuxt-img-animation {
  position: relative;
  overflow: hidden;
  transition: transform 0.6s ease;
  animation: float 6s ease-in-out infinite;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.dark body {
  background-color: #1d1d1d; /* Dark mode background color */
  color: #ffffff; /* Dark mode text color */
}

h1, h2, h3 {
  font-family: "Big Shoulders", sans-serif, 'Times New Roman', Times, serif;
}

span {
  font-family: "Big Shoulders", sans-serif, 'Times New Roman', Times, serif;
}

/* This affects headings inside blog content */
.prose h1 {
  font-size: 2.75rem;
  line-height: 1.2; /* You can bump this to 1.25 or 1.3 if it's still tight */
  font-family: "Big Shoulders", sans-serif;
}

.prose h2 {
  font-size: 2.25rem;
  line-height: 1.25;
  font-family: "Big Shoulders", sans-serif;
}

.prose h3 {
  font-size: 1.75rem;
  line-height: 1.3;
  font-family: "Big Shoulders", sans-serif;
}

/* Blog content paragraph text sizing */
.prose p {
  font-size: 1.125rem; /* 18px */
  line-height: 1.75;
  margin-bottom: 1.5rem;
}

/* Code blocks and inline code styling */
.prose pre {
  font-size: 1.1rem !important; /* 17.6px - much larger */
  line-height: 1.6;
  padding: 1.5rem;
  border-radius: 0.75rem;
  overflow-x: auto;
  background-color: #f8fafc !important; /* Light gray for light mode */
  color: #1e293b !important; /* Dark text for light mode */
  border: none !important; /* Remove all borders */
  box-shadow: none !important; /* Remove shadow artifacts */
  margin: 1.5rem 0;
}

/* Dark mode code blocks */
.dark .prose pre {
  background-color: #1f2937 !important;
  color: #f9fafb !important;
  border: none !important; /* Remove dark mode borders too */
}

.prose pre code {
  font-size: 1.1rem !important; /* Ensure code inside pre is also larger */
  background-color: transparent !important;
  padding: 0 !important;
  border-radius: 0 !important;
  color: inherit !important;
}

.prose code {
  font-size: 1rem !important; /* 16px - larger inline code */
  padding: 0.25rem 0.5rem;
  border-radius: 0.375rem;
  background-color: #f1f5f9 !important; /* Light mode inline code bg */
  color: #0f172a !important; /* Dark text for light mode */
  font-weight: 500;
  border: none !important; /* Remove inline code borders */
  box-shadow: none !important; /* Remove shadows */
}

.dark .prose code {
  background-color: #374151 !important;
  color: #f9fafb !important;
  border: none !important; /* Remove dark mode inline code borders */
}

/* Remove any weird artifacts from markdown rendering */
.prose pre::before,
.prose pre::after,
.prose code::before,
.prose code::after {
  display: none !important;
}

/* Ensure no pseudo-elements create border artifacts */
.prose *::before,
.prose *::after {
  border: none !important;
  box-shadow: none !important;
}

/* List items in prose */
.prose li {
  font-size: 1.125rem; /* 18px */
  line-height: 1.75;
  margin-bottom: 0.5rem;
}

/* Blockquotes */
.prose blockquote {
  font-size: 1.25rem; /* 20px */
  line-height: 1.75;
  padding-left: 1.5rem;
  border-left: 4px solid #9333ea;
  margin: 2rem 0;
  font-style: italic;
}

/* Strong/bold text */
.prose strong {
  font-weight: 700;
  font-size: inherit;
}

/* Ensure proper spacing for content sections */
.prose > * + * {
  margin-top: 1.5rem;
}

/* Fix text contrast issues */
.prose {
  color: #1f2937 !important; /* Dark text for light mode */
}

.dark .prose {
  color: #f9fafb !important; /* Light text for dark mode */
}

/* Fix any purple text that's hard to read in light mode */
.prose a {
  color: #2563eb !important; /* Blue instead of purple for better readability */
  text-decoration: none !important; /* Remove underlines */
}

.prose a:hover {
  color: #1d4ed8 !important; /* Darker blue on hover */
  text-decoration: underline !important; /* Only underline on hover */
}

.dark .prose a {
  color: #60a5fa !important; /* Light blue for dark mode */
  text-decoration: none !important;
}

.dark .prose a:hover {
  color: #93c5fd !important; /* Lighter blue on hover in dark mode */
  text-decoration: underline !important;
}

/* Ensure headings have good contrast and NO purple */
.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  color: #111827 !important; /* Very dark for light mode */
  text-decoration: none !important; /* Remove any underlines */
}

.dark .prose h1, .dark .prose h2, .dark .prose h3, .dark .prose h4, .dark .prose h5, .dark .prose h6 {
  color: #f9fafb !important; /* Light for dark mode */
  text-decoration: none !important;
}

/* Fix any remaining contrast issues */
.prose strong {
  color: inherit !important;
}

.prose em {
  color: inherit !important;
}

/* Fix colored callout boxes for light mode readability */
.prose div[style*="background-color"] h3 {
  color: #ffffff !important; /* White text on colored backgrounds */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important; /* Add shadow for better readability */
}

.prose div[style*="background-color"] p {
  color: #ffffff !important; /* White text on colored backgrounds */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important; /* Add shadow for better readability */
}

/* Force white color for specific emoji headers in colored boxes */
.prose div h3[style*="color: #ffffff"],
.prose div p[style*="color: #ffffff"] {
  color: #ffffff !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9) !important;
}

/* Nuclear option - force white for ANY text in colored divs */
.prose div[style*="#14532d"] h3,
.prose div[style*="#1e3a8a"] h3,
.prose div[style*="#7f1d1d"] p,
.prose div[style*="#581c87"] p,
.prose div[style*="#713f12"] h3,
.prose div[style*="#713f12"] p {
  color: #ffffff !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9) !important;
}

/* Ensure emojis in headers are visible */
.prose div[style*="background-color"] h3::before {
  filter: brightness(1.2) contrast(1.1) !important; /* Make emojis more visible on colored backgrounds */
}

/* Fix table of contents anchor link positioning */
.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  scroll-margin-top: 120px; /* Adjust this value based on your header height */
}

/* Alternative method for older browsers */
.prose h1::before, .prose h2::before, .prose h3::before, .prose h4::before, .prose h5::before, .prose h6::before {
  content: "";
  display: block;
  height: 120px; /* Same value as scroll-margin-top */
  margin-top: -120px;
  visibility: hidden;
  pointer-events: none;
}

/* Sticky Table of Contents */
aside {
  position: sticky !important;
  top: 140px !important; /* Adjust based on your header height */
  max-height: calc(100vh - 160px) !important;
  overflow-y: auto !important;
  z-index: 10 !important;
  align-self: flex-start !important; /* Prevents the aside from stretching */
}

/* Style the TOC for better visibility */
aside > div:first-child {
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(10px) !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 12px !important;
  padding: 1rem !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1) !important;
}

.dark aside > div:first-child {
  background: rgba(31, 41, 55, 0.95) !important;
  border-color: #374151 !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3) !important;
}

/* Mobile TOC improvements */
@media (max-width: 1024px) {
  aside {
    position: static !important;
    max-height: none !important;
    align-self: auto !important;
    margin: 2rem 0 !important;
  }
  
  aside > div:first-child {
    background: rgba(248, 250, 252, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 12px !important;
    padding: 1.5rem !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08) !important;
    margin: 1rem 0 !important;
  }
  
  .dark aside > div:first-child {
    background: rgba(31, 41, 55, 0.95) !important;
    border-color: #374151 !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2) !important;
  }
  
  /* Hide the original aside on mobile and show floating nav instead */
  aside {
    display: none !important;
  }
}

/* Floating mobile navigation button */
.mobile-nav-fab {
  position: fixed !important;
  bottom: 2rem !important;
  right: 1rem !important;
  z-index: 50 !important;
  background: #7c3aed !important;
  color: white !important;
  border: none !important;
  border-radius: 50% !important;
  width: 56px !important;
  height: 56px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  box-shadow: 0 8px 25px rgba(124, 58, 237, 0.3) !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
}

.mobile-nav-fab:hover {
  transform: scale(1.1) !important;
  box-shadow: 0 12px 35px rgba(124, 58, 237, 0.4) !important;
}

.dark .mobile-nav-fab {
  background: #8b5cf6 !important;
  box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3) !important;
}

.dark .mobile-nav-fab:hover {
  box-shadow: 0 12px 35px rgba(139, 92, 246, 0.4) !important;
}

/* Mobile TOC popup */
.mobile-toc-popup {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  background: rgba(255, 255, 255, 0.98) !important;
  backdrop-filter: blur(20px) !important;
  border-top: 1px solid #e5e7eb !important;
  border-radius: 20px 20px 0 0 !important;
  padding: 1.5rem !important;
  transform: translateY(100%) !important;
  transition: transform 0.3s ease !important;
  z-index: 100 !important;
  max-height: 60vh !important;
  overflow-y: auto !important;
}

.dark .mobile-toc-popup {
  background: rgba(31, 41, 55, 0.98) !important;
  border-color: #374151 !important;
}

.mobile-toc-popup.show {
  transform: translateY(0) !important;
}

/* Hide mobile components on desktop */
@media (min-width: 1025px) {
  .mobile-nav-fab,
  .mobile-toc-popup {
    display: none !important;
  }
}

/* Disable hover interactions on mobile/small screens */
@media (max-width: 1023px) {
  .services-dropdown {
    pointer-events: auto !important;
  }
  
  .services-dropdown:hover .services-mega-menu {
    display: none !important;
  }
  
  /* Force click-only behavior on small screens */
  .services-dropdown .services-mega-menu {
    display: none !important;
  }
  
  .services-dropdown .services-mega-menu.show {
    display: block !important;
  }
}